<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js - Hoisting</title>
</head>
<body>
    <h1> Hoisting </h1>
    <!-- hoisting : 위로 끌어올리다
         크레인같은 것에 연결해서 끌어올리는 것
        -> 변수, 함수를 끌어올려서 미리 자동으로 선언을 해주는 것 -->

    <script>
        // 위에서부터 아래로 한줄씩 실행됨
        // 실행 전에 먼저 var 키워드가 붙은 변수를 모두 위로 끌어올려줌
        // 위로 끌어올려놓고 밑에서는 값대입만 하는 식으로 
        // var a; //var 키워드로 선언된 변수는 hoisting 된다. 
        // -> 선언하기 전에 미리 호출해도 오류가 나지 않음
        console.log(a);
        // Uncaught ReferenceError - var 키워드 사용 x 선언하지 않고 사용하려고 하면 오류
        // var가 있으면 끌어올리면 오류가 아닌 undefined 출력

        var a = '안녕';
        // console.log(a); 이거를 위로 끌어올려 먼저 실행하면? 
        
        // function foo; //function foo라는 것이 있다! 하고 함수선언식이 
        // script태그 안 제일 위쪽***으로 눈에 보이지는 않지만 위로 끌어올려짐

        //선언 전 foo호출해도 작동함!
        foo();
        // 함수 선언식
        //함수 선언식은 hoisting된다.
        // -> 선언 전에 foo를 호출해도 작동함
        function foo() {
            console.log("foo");
        }

        // 앞에서 bar라고 호출하면?
        bar();
        // 오류
        // var 키워드가 있으니, 위로 hoisting되었을 텐데,
        // 대입전이니 undefined 상태, 함수인 것을 모름
        // 그걸 그냥 호출해버리면, 함수가 아닌데 왜 호출하느냐! 라는 에러!
        // 함수 선언식이면 아무 문제가 없으나 함수 표현식으로 var를 하면 이런식으로 에러남
        // Uncaught TypeError: bar is not a function
        // 함수 표현식
        // bar라는 변수에 익명함수를 대입한 것! (이름이 없는 함수 - 익명함수)
        
        var bar = function() {
            console.log("bar");
        }

        // 함수 선언식으로 작성했다면, 미리 호출해도 잘 작동한다!! 기억!!!!!!!!!!!!!
        </script>
        
<!-- 스크립트 태그 내 오류가 나면, 그 다음 코드들은 아예 실행이 안됨. -->
</body>
</html>